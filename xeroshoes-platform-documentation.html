<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <title>XeroShoes eCommerce Platform Documentation</title>
    <link rel="stylesheet" href="arcadia-style.css">
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <!-- Include Header -->
    <div id="header-placeholder"></div>
    
    <div class="container">
        <h1>XeroShoes eCommerce Platform Documentation</h1>
        
        <div class="two-column-layout">
            <!-- Table of Contents -->
            <nav class="toc-sidebar">
                <h3>Table of Contents</h3>
                <ul>
                    <li><a href="#executive-summary">Executive Summary</a>
                        <ul>
                            <li><a href="#platform-overview">Platform Overview</a></li>
                            <li><a href="#key-technical-components">Key Technical Components</a></li>
                        </ul>
                    </li>
                    <li><a href="#platform-architecture">Platform Architecture</a>
                        <ul>
                            <li><a href="#dual-instance-structure">Dual-Instance Structure</a></li>
                            <li><a href="#theme-architecture">Theme Architecture</a></li>
                            <li><a href="#technology-stack">Technology Stack</a></li>
                        </ul>
                    </li>
                    <li><a href="#content-management">Content Management</a>
                        <ul>
                            <li><a href="#page-templates">Page Templates & Structure</a></li>
                            <li><a href="#content-sections">Content Sections Inventory</a></li>
                            <li><a href="#metafield-integration">Metafield Integration</a></li>
                            <li><a href="#content-workflows">Content Management Workflows</a></li>
                        </ul>
                    </li>
                    <li><a href="#product-management">Product Management</a>
                        <ul>
                            <li><a href="#product-inventory">Product Inventory</a></li>
                            <li><a href="#product-data-standards">Product Data Standards</a></li>
                            <li><a href="#metafields">Metafields & Custom Data</a></li>
                            <li><a href="#product-workflows">Product Management Workflows</a></li>
                        </ul>
                    </li>
                    <li><a href="#integrations">Integrations & Apps</a>
                        <ul>
                            <li><a href="#payment-processing">Payment Processing</a></li>
                            <li><a href="#shipping-logistics">Shipping & Logistics</a></li>
                            <li><a href="#marketing-email">Marketing & Email</a></li>
                            <li><a href="#analytics-tracking">Analytics & Tracking</a></li>
                        </ul>
                    </li>
                    <li><a href="#operations">Operations & Runbooks</a>
                        <ul>
                            <li><a href="#user-management">User & Access Management</a></li>
                            <li><a href="#content-procedures">Content Management Procedures</a></li>
                            <li><a href="#product-procedures">Product Management Procedures</a></li>
                            <li><a href="#troubleshooting">Troubleshooting Guides</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
            
            <!-- Main Content -->
            <main>
                <section id="executive-summary">
                    <h2>Executive Summary</h2>
                    
                    <section id="platform-overview">
                        <h3>Platform Overview</h3>
                        <p>The XeroShoes eCommerce platform operates on a dual-instance Shopify Plus architecture, serving the US market through XeroShoes.com and the EU market through XeroShoes.eu. This separation is required due to legal and regulatory compliance requirements, ensuring proper business entity structure and data sovereignty.</p>
                        
                        <h4>System Architecture Overview</h4>
                        <p>The platform consists of two independent Shopify Plus instances with synchronized content and shared technical architecture. For detailed technical implementation, see <a href="theme-architecture.html">Theme Architecture Documentation</a>.</p>
                        
                        <h5>Architecture Components</h5>
                        <ul>
                            <li><strong>US Instance (xeroshoes.com):</strong> Shopify Plus Backend, Fluid Framework Theme, 10 Apps with Theme Integration, Custom Metafield System, USD Pricing & US Shipping</li>
                            <li><strong>EU Instance (xeroshoes.eu):</strong> Shopify Plus Backend, Fluid Framework Theme, 4 Apps with Theme Integration, Custom Metafield System, EUR Pricing & EU Shipping</li>
                            <li><strong>Shared Components:</strong> Custom Liquid Templates, JavaScript Modules, CSS Framework, Metafield Architecture</li>
                        </ul>
                        
                        <div class="alert info">
                            <strong>Platform Status:</strong> Both instances are fully operational with 99.9% uptime, serving customers across North America and Europe with localized experiences and compliance requirements.
                        </div>
                        
                        <h4>Content Inventory</h4>
                        <ul>
                            <li><strong>Products:</strong> 14,054 products (US), 9,518 products (EU) with comprehensive metafield data</li>
                            <li><strong>Collections:</strong> Smart collections and custom collections for product organization across both instances</li>
                            <li><strong>Pages:</strong> Content pages with specialized templates for different regions</li>
                            <li><strong>Blog Posts:</strong> Educational content and brand storytelling</li>
                            <li><strong>Redirects:</strong> SEO preservation redirects for site migrations</li>
                            <li><strong>Metaobjects:</strong> 784 metaobjects (US), 500 metaobjects (EU) for structured content</li>
                        </ul>
                        
                        <div class="alert info">
                            <strong>Data Analysis Complete:</strong> Both US and EU instances have been fully analyzed with complete data exports from October 20-23, 2025. See <a href="xeroshoes-metafield-mapping.html">Metafield Mapping Documentation</a> for detailed US/EU field comparisons.
                        </div>
                        
                        <h4>US vs EU Instance Comparison</h4>
                        <p>Complete analysis reveals significant differences in metafield availability and app integrations between instances:</p>
                        
                        <h5>Metafield Analysis</h5>
                        <ul>
                            <li><strong>US Instance:</strong> 61 metafields including reviews, Google Shopping, tax compliance, and Shopify taxonomy</li>
                            <li><strong>EU Instance:</strong> 33 metafields using product.* namespace instead of custom.* namespace</li>
                            <li><strong>Shared Fields:</strong> 8 metafields with identical namespaces across both instances</li>
                            <li><strong>US-Only Fields:</strong> 53 metafields not available on EU site (reviews, Google Shopping, tax compliance)</li>
                            <li><strong>Namespace-Mapped Fields:</strong> 25 fields with different namespaces (custom.* vs product.*)</li>
                        </ul>
                        
                        <h5>App Integration Differences</h5>
                        <ul>
                            <li><strong>US Instance:</strong> 10+ apps including Stamped.io reviews, Google Shopping, Avalara tax, Simple Bundles</li>
                            <li><strong>EU Instance:</strong> 4 apps with theme evidence (Klaviyo, Redirect Hero, Microsoft Clarity, Stamped Reviews)</li>
                            <li><strong>Missing on EU:</strong> Google Shopping integration, Avalara tax compliance, Simple Bundles, advanced review features</li>
                        </ul>
                        
                        <div class="alert warning">
                            <strong>Data Synchronization:</strong> Significant metafield namespace differences require careful mapping for data synchronization between instances. See <a href="xeroshoes-metafield-mapping.html">Metafield Mapping Documentation</a> for implementation details.
                        </div>
                    </section>
                    
                    <section id="key-technical-components">
                        <h3>Key Technical Components</h3>
                        <ul>
                            <li><strong>Theme:</strong> Fluid Framework v3.0.0 (Praella Agency)</li>
                            <li><strong>Custom Sections:</strong> Extensive custom sections including Xero-specific landing pages</li>
                            <li><strong>Metafields:</strong> Extensive custom metafield system for product data</li>
                            <li><strong>Integrations:</strong> Comprehensive third-party integrations for payments, shipping, and marketing</li>
                            <li><strong>Multi-Region:</strong> Separate Shopify Plus instances for US and EU compliance</li>
                        </ul>
                    </section>
                </section>
                
                <section id="platform-architecture">
                    <h2>Platform Architecture</h2>
                    
                    <section id="dual-instance-structure">
                        <h3>Dual-Instance Structure</h3>
                        <p>XeroShoes operates two separate Shopify Plus instances due to legal and regulatory requirements. This architecture ensures compliance with regional business entity structures and data sovereignty requirements.</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>Instance</th>
                                <th>Domain</th>
                                <th>Shopify Subdomain</th>
                                <th>Status</th>
                                <th>Primary Market</th>
                            </tr>
                            <tr>
                                <td>US Instance</td>
                                <td>xeroshoes.com</td>
                                <td>shopxeroshoes.myshopify.com</td>
                                <td>Active - Primary</td>
                                <td>North America</td>
                            </tr>
                            <tr>
                                <td>EU Instance</td>
                                <td>xeroshoes.eu</td>
                                <td>shopxeroshoes-eu.myshopify.com</td>
                                <td>Active</td>
                                <td>Europe</td>
                            </tr>
                        </table>
                        
                        <h4>Instance Synchronization</h4>
                        <ul>
                            <li><strong>Product Data:</strong> Manual synchronization required between instances</li>
                            <li><strong>Content Updates:</strong> Independent content management per region</li>
                            <li><strong>Inventory:</strong> Separate inventory tracking and management</li>
                            <li><strong>Customer Data:</strong> Isolated customer databases per region</li>
                            <li><strong>Analytics:</strong> Separate analytics and reporting systems</li>
                        </ul>
                    </section>
                    
                    <section id="theme-architecture">
                        <h3>Theme Architecture</h3>
                        <p>The XeroShoes platform uses the Fluid Framework theme (v3.0.0) developed by Praella Agency, with extensive customizations for barefoot shoe retail and brand-specific functionality.</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>Property</th>
                                <th>Value</th>
                            </tr>
                            <tr>
                                <td>Theme Name</td>
                                <td>Fluid Framework</td>
                            </tr>
                            <tr>
                                <td>Version</td>
                                <td>3.0.0</td>
                            </tr>
                            <tr>
                                <td>Developer</td>
                                <td>Praella Agency</td>
                            </tr>
                            <tr>
                                <td>Sections</td>
                                <td>Extensive custom sections</td>
                            </tr>
                            <tr>
                                <td>Templates</td>
                                <td>Multiple page templates</td>
                            </tr>
                            <tr>
                                <td>Snippets</td>
                                <td>Reusable Liquid snippets</td>
                            </tr>
                        </table>
                        
                        <h4>Custom Sections Inventory</h4>
                        <div class="section-categories">
                            <h5>Core Content Sections</h5>
                            <ul>
                                <li><code>announcement-bar.liquid</code> - Promotional messaging banner</li>
                                <li><code>global-header-slider.liquid</code> - Hero slider with product integration</li>
                                <li><code>global-media-banner.liquid</code> - Media banner with video/image support</li>
                                <li><code>global-page-header-banner.liquid</code> - Page header with background images</li>
                            </ul>
                            
                            <h5>Product-Specific Sections</h5>
                            <ul>
                                <li><code>xero-custom-landing.liquid</code> - Custom barefoot shoe landing page</li>
                                <li><code>product-comfort.liquid</code> - Product comfort information display</li>
                                <li><code>product-comfort-dynamic.liquid</code> - Dynamic comfort data integration</li>
                                <li><code>product-variant-attributes.liquid</code> - Product variant attribute display</li>
                                <li><code>product-collapsible.liquid</code> - Collapsible product information sections</li>
                            </ul>
                            
                            <h5>Collection & Search Sections</h5>
                            <ul>
                                <li><code>collection-all-list.liquid</code> - Complete collection listing</li>
                                <li><code>collection-list-style-1.liquid</code> - Styled collection grid display</li>
                                <li><code>search-layer.liquid</code> - Advanced search interface</li>
                                <li><code>predictive-search.liquid</code> - Predictive search functionality</li>
                            </ul>
                            
                            <h5>Blog & Content Sections</h5>
                            <ul>
                                <li><code>blog-listing.liquid</code> - Blog post listing page</li>
                                <li><code>blog-banner-slider.liquid</code> - Blog banner with slider functionality</li>
                                <li><code>press-blog-post.liquid</code> - Press and media blog posts</li>
                                <li><code>global-blog-posts.liquid</code> - Global blog post integration</li>
                            </ul>
                        </div>
                    </section>
                    
                    <section id="technology-stack">
                        <h3>Technology Stack</h3>
                        <ul>
                            <li><strong>Platform:</strong> Shopify Plus (dual instances)</li>
                            <li><strong>Theme:</strong> Fluid Framework v3.0.0 (Praella Agency)</li>
                            <li><strong>Liquid Templates:</strong> Custom Liquid templating system</li>
                            <li><strong>JavaScript:</strong> Custom JavaScript modules for enhanced functionality</li>
                            <li><strong>CSS:</strong> Custom CSS with XeroShoes branding</li>
                            <li><strong>Metafields:</strong> Extensive custom metafield system</li>
                            <li><strong>APIs:</strong> Shopify Admin API, Storefront API, and third-party integrations</li>
                        </ul>
                    </section>
                </section>
                
                <section id="content-management">
                    <h2>Content Management</h2>
                    <p>Content management documentation has been moved to a dedicated page for better organization and usability.</p>
                    
                    <div class="alert info">
                        <strong>Content Management Documentation:</strong> For complete content management procedures, page templates, content sections inventory, metafield integration, and workflows, see <a href="content-management.html">Content Management Documentation</a>.
                    </div>
                    
                    <h3>Quick Reference</h3>
                    <ul>
                        <li><strong>Page Templates:</strong> Homepage, Product, Collection templates with section-based layouts</li>
                        <li><strong>Content Sections:</strong> 78+ custom sections for navigation, product display, and media</li>
                        <li><strong>Metafield Integration:</strong> Extensive metafield system for structured content data</li>
                        <li><strong>Workflows:</strong> Standardized procedures for page creation, blog management, and content updates</li>
                    </ul>
                </section>
                
                <section id="product-management">
                    <h2>Product Management</h2>
                    <p>Product management documentation has been moved to a dedicated page for better organization and usability.</p>
                    
                    <div class="alert info">
                        <strong>Product Management Documentation:</strong> For complete product management procedures, data standards, metafields, and variant visibility management, see <a href="product-management.html">Product Management Documentation</a>.
                    </div>
                    
                    <h3>Quick Reference</h3>
                    <ul>
                        <li><strong>Product Inventory:</strong> 14,054 products (US), 9,518 products (EU) across barefoot shoes, sandals, boots, and accessories</li>
                        <li><strong>Data Standards:</strong> Comprehensive standards for product information and media requirements</li>
                        <li><strong>Custom Metafields:</strong> Extensive metafield system including critical <code>custom.draft_variant</code></li>
                        <li><strong>Variant Management:</strong> Custom variant visibility control system for seasonal and inventory management</li>
                    </ul>
                </section>
                
                <section id="integrations">
                    <h2>Integrations & Apps</h2>
                    
                    <section id="payment-processing">
                        <h3>Payment Processing</h3>
                        <p>Comprehensive payment processing setup across both XeroShoes instances.</p>
                        
                        <h4>Primary Payment Methods</h4>
                        <ul>
                            <li><strong>Shopify Payments:</strong> Primary payment processor for both instances</li>
                            <li><strong>PayPal:</strong> Alternative payment option for customer convenience</li>
                            <li><strong>Apple Pay:</strong> Mobile payment integration</li>
                            <li><strong>Google Pay:</strong> Mobile payment integration</li>
                            <li><strong>Shop Pay:</strong> Shopify's accelerated checkout</li>
                        </ul>
                        
                        <h4>Regional Payment Configuration</h4>
                        <table class="data-table">
                            <tr>
                                <th>Instance</th>
                                <th>Primary Currency</th>
                                <th>Payment Methods</th>
                                <th>Fraud Protection</th>
                            </tr>
                            <tr>
                                <td>US (xeroshoes.com)</td>
                                <td>USD</td>
                                <td>Shopify Payments, PayPal, Apple Pay, Google Pay</td>
                                <td>Shopify Fraud Analysis</td>
                            </tr>
                            <tr>
                                <td>EU (xeroshoes.eu)</td>
                                <td>EUR</td>
                                <td>Shopify Payments, PayPal, Local Methods</td>
                                <td>Shopify Fraud Analysis</td>
                            </tr>
                        </table>
                    </section>
                    
                    <section id="shipping-logistics">
                        <h3>Shipping & Logistics</h3>
                        <p>Shipping configuration and carrier integrations for both regional instances.</p>
                        
                        <h4>US Shipping Configuration</h4>
                        <ul>
                            <li><strong>UPS:</strong> Ground, 2-Day, Next Day Air</li>
                            <li><strong>FedEx:</strong> Ground, 2-Day, Overnight</li>
                            <li><strong>USPS:</strong> Priority Mail, First Class</li>
                            <li><strong>Free Shipping:</strong> Orders over $75 (US only)</li>
                        </ul>
                        
                        <h4>EU Shipping Configuration</h4>
                        <ul>
                            <li><strong>DHL:</strong> Express, Standard delivery</li>
                            <li><strong>Local Carriers:</strong> Regional delivery partners</li>
                            <li><strong>Free Shipping:</strong> Orders over €75 (EU only)</li>
                        </ul>
                    </section>
                    
                    <section id="marketing-email">
                        <h3>Marketing & Email</h3>
                        <p>Marketing platform integrations and email marketing configuration.</p>
                        
                        <h4>Email Marketing Platform</h4>
                        <ul>
                            <li><strong>Klaviyo:</strong> Primary email marketing platform</li>
                            <li><strong>Automated Flows:</strong> Welcome series, abandoned cart, post-purchase</li>
                            <li><strong>Segmentation:</strong> Customer behavior and purchase history</li>
                            <li><strong>Campaigns:</strong> Promotional emails and newsletters</li>
                        </ul>
                        
                        <h4>Social Media Integration</h4>
                        <ul>
                            <li><strong>Facebook Pixel:</strong> Conversion tracking and retargeting</li>
                            <li><strong>Instagram Shopping:</strong> Product catalog integration</li>
                            <li><strong>Social Sharing:</strong> Product and content sharing buttons</li>
                        </ul>
                    </section>
                    
                    <section id="analytics-tracking">
                        <h3>Analytics & Tracking</h3>
                        <p>Comprehensive analytics and tracking setup for both instances.</p>
                        
                        <h4>Analytics Platforms</h4>
                        <ul>
                            <li><strong>Google Analytics 4:</strong> Primary analytics platform</li>
                            <li><strong>Shopify Analytics:</strong> Built-in eCommerce analytics</li>
                            <li><strong>Facebook Analytics:</strong> Social media performance tracking</li>
                        </ul>
                        
                        <h4>Tracking Configuration</h4>
                        <ul>
                            <li><strong>Conversion Tracking:</strong> Purchase, add to cart, email signup</li>
                            <li><strong>Customer Journey:</strong> Multi-touch attribution tracking</li>
                            <li><strong>Performance Monitoring:</strong> Site speed and user experience</li>
                        </ul>
                    </section>
                </section>
                
                <section id="custom-implementations">
                    <h2>Custom Implementations & Technical Details</h2>
                    
                    <section id="theme-customizations">
                        <h3>Theme Customizations</h3>
                        <p>XeroShoes-specific customizations that extend beyond standard Shopify functionality.</p>
                        
                        <h4>Custom Sections</h4>
                        <ul>
                            <li><strong>Xero Custom Landing:</strong> Specialized landing page sections for product launches</li>
                            <li><strong>Product Group Blocks:</strong> Custom product grouping and display logic</li>
                            <li><strong>Video Banners:</strong> Enhanced video integration with custom controls</li>
                            <li><strong>Multi-Layer Sales Motivators:</strong> Advanced promotional display system</li>
                        </ul>
                        
                        <h4>Custom Liquid Logic</h4>
                        <ul>
                            <li><strong>Variant Visibility Control:</strong> <code>custom.draft_variant</code> metafield implementation</li>
                            <li><strong>Dynamic Option Filtering:</strong> Real-time variant option filtering based on availability</li>
                            <li><strong>Color Swatch Logic:</strong> Custom color matching and display algorithms</li>
                            <li><strong>Inventory Status Display:</strong> Custom low-stock and availability messaging</li>
                        </ul>
                    </section>
                    
                    <section id="metafield-architecture">
                        <h3>Metafield Architecture</h3>
                        <p>Custom metafield system designed specifically for XeroShoes product data requirements.</p>
                        
                        <h4>Product-Specific Metafields</h4>
                        <ul>
                            <li><strong>custom.display_title:</strong> Custom product titles for different contexts</li>
                            <li><strong>custom.feed_description:</strong> SEO-optimized descriptions for product feeds</li>
                            <li><strong>custom.product_highlights:</strong> Rich text feature highlights with formatting</li>
                            <li><strong>custom.activity:</strong> Activity-based categorization for filtering</li>
                            <li><strong>custom.color:</strong> Color information for swatch generation</li>
                            <li><strong>custom.draft_variant:</strong> Variant visibility control system</li>
                        </ul>
                        
                        <h4>Metafield Dependencies</h4>
                        <ul>
                            <li><strong>Variant Picker Logic:</strong> Depends on <code>custom.draft_variant</code> for visibility control</li>
                            <li><strong>Search Functionality:</strong> Uses <code>custom.activity</code> and <code>custom.color</code> for filtering</li>
                            <li><strong>Product Feeds:</strong> Leverages <code>custom.feed_description</code> for external integrations</li>
                            <li><strong>Collection Logic:</strong> Utilizes metafield data for smart collection rules</li>
                        </ul>
                    </section>
                    
                    <section id="integration-customizations">
                        <h3>Integration Customizations</h3>
                        <p>Custom implementations and configurations specific to XeroShoes' business requirements.</p>
                        
                        <h4>App-Specific Customizations</h4>
                        <ul>
                            <li><strong>Stamped Reviews:</strong> Custom review display logic and styling</li>
                            <li><strong>Klaviyo Integration:</strong> Custom event tracking and segmentation logic</li>
                            <li><strong>Searchanise:</strong> Custom search filters and result ranking</li>
                            <li><strong>Elevar Tracking:</strong> Custom conversion tracking implementation</li>
                        </ul>
                        
                        <h4>Custom JavaScript Modules</h4>
                        <ul>
                            <li><strong>Variant Options Component:</strong> Enhanced variant selection with draft variant support</li>
                            <li><strong>Product Form Handler:</strong> Custom form submission and validation logic</li>
                            <li><strong>Cart Drawer Controller:</strong> Enhanced cart functionality with custom features</li>
                            <li><strong>Search Enhancement:</strong> Custom search behavior and result display</li>
                        </ul>
                    </section>
                </section>
            </main>
        </div>
    </div>
    
    <!-- Include Footer -->
    <div id="footer-placeholder"></div>
    
    <!-- Load header and footer -->
    <script>
        // Load header
        fetch('templates/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
                // Re-initialize header menu functionality
                const menuToggle = document.getElementById('menu-toggle');
                const headerMenu = document.getElementById('header-menu');
                
                if (menuToggle && headerMenu) {
                    menuToggle.addEventListener('click', function() {
                        const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
                        
                        menuToggle.setAttribute('aria-expanded', !isExpanded);
                        menuToggle.classList.toggle('active');
                        headerMenu.classList.toggle('show');
                    });
                    
                    // Close menu when clicking outside
                    document.addEventListener('click', function(event) {
                        if (!menuToggle.contains(event.target) && !headerMenu.contains(event.target)) {
                            menuToggle.setAttribute('aria-expanded', 'false');
                            menuToggle.classList.remove('active');
                            headerMenu.classList.remove('show');
                        }
                    });
                }
            })
            .catch(error => console.error('Error loading header:', error));
        
        // Load footer
        fetch('templates/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            })
            .catch(error => console.error('Error loading footer:', error));
    </script>
    
    <!-- Enhanced TOC Script -->
    <script src="enhanced-toc.js"></script>
</body>
</html>
