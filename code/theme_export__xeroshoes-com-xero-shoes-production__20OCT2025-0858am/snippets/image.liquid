{%- liquid
  assign image_alt = image.src.alt | default: shop.name | escape
  assign fetchpriority = 'low'
  if preload == true
    assign loading = 'eager'
    assign fetchpriority = 'high'
  endif
  assign media_width_desktop = '100vw'
  assign media_width_mobile = '100vw'
  if sizes != blank
    assign sizes = sizes
  else
    assign sizes = 'auto, (min-width: 750px) ' | append: media_width_desktop | append: ', ' | append: media_width_mobile
  endif
%}
<img {% if preload != true %}data-{% endif %}srcset="
  {%- if image.src.width >= 350 -%}{{ image.src | image_url: width: 350 }} 350w,{%- endif -%}
  {%- if image.src.width >= 550 -%}{{ image.src | image_url: width: 550 }} 550w,{%- endif -%}
  {%- if image.src.width >= 750 -%}{{ image.src | image_url: width: 750 }} 750w,{%- endif -%}
  {%- if image.src.width >= 991 -%}{{ image.src | image_url: width: 991 }} 991w,{%- endif -%}
  {%- if image.src.width >= 1200 -%}{{ image.src | image_url: width: 1200 }} 1200w,{%- endif -%}
  {%- if image.src.width >= 1500 -%}{{ image.src | image_url: width: 1500 }} 1500w,{%- endif -%}
  {{ image.src | image_url }} {{ image.src.width }}w"
  {% if preload == true %}data-src="{{ image.src | image_url: width: 750 }}"{% else %}src="{{ 'animated-placeholder.svg' | asset_url }}" data-src="{{ image.src | image_url: width: 750 }}"{% endif %} loading="{{ loading | default: 'lazy' }}" sizes="{{ sizes }}" alt="{{ image_alt }}" width="{{ image.src.width }}" height="{{ image.src.height }}" class="{% if preload != true %}lozad {% endif %}{{ class }}" {% if aspect_ratio != "" %}style="aspect-ratio: {{ aspect_ratio }};"{% endif %} fetchpriority="{{ fetchpriority }}" {{ block.shopify_attributes }} {{ attributes }}>